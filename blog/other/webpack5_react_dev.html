<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>webpack5搭建React开发脚手架 | 狼子笔记</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <meta name="description" content="王龙楷个人博客,王龙楷,狼子笔记,个人博客,前端笔记,面试技巧,Vue,javascript,DBCss,html5">
    <meta name="keywords" content="王龙楷个人博客,王龙楷,狼子笔记,个人博客,前端笔记,前端,vue,博客,javascript,html,DBCss">
    <link rel="preload" href="/assets/css/0.styles.94456445.css" as="style"><link rel="preload" href="/assets/js/app.3ad42564.js" as="script"><link rel="preload" href="/assets/js/2.0d9e74f2.js" as="script"><link rel="preload" href="/assets/js/18.531c75ba.js" as="script"><link rel="preload" href="/assets/js/9.6b44206c.js" as="script"><link rel="prefetch" href="/assets/js/10.ff7ce18d.js"><link rel="prefetch" href="/assets/js/11.948e8e29.js"><link rel="prefetch" href="/assets/js/12.e3e99f59.js"><link rel="prefetch" href="/assets/js/13.e7dc048e.js"><link rel="prefetch" href="/assets/js/14.0c181ae7.js"><link rel="prefetch" href="/assets/js/15.0dd9413e.js"><link rel="prefetch" href="/assets/js/16.72ba1c2c.js"><link rel="prefetch" href="/assets/js/17.23d6f8dd.js"><link rel="prefetch" href="/assets/js/19.3bbe1370.js"><link rel="prefetch" href="/assets/js/20.e3fb5433.js"><link rel="prefetch" href="/assets/js/21.cdff5d3a.js"><link rel="prefetch" href="/assets/js/22.cc854551.js"><link rel="prefetch" href="/assets/js/23.d208914a.js"><link rel="prefetch" href="/assets/js/24.988baba4.js"><link rel="prefetch" href="/assets/js/25.d2649e28.js"><link rel="prefetch" href="/assets/js/26.25fd77af.js"><link rel="prefetch" href="/assets/js/27.f48725fe.js"><link rel="prefetch" href="/assets/js/28.0f529e99.js"><link rel="prefetch" href="/assets/js/29.39b6a420.js"><link rel="prefetch" href="/assets/js/3.7e0cdc3a.js"><link rel="prefetch" href="/assets/js/30.94823d45.js"><link rel="prefetch" href="/assets/js/31.9091f46f.js"><link rel="prefetch" href="/assets/js/32.e38e61b5.js"><link rel="prefetch" href="/assets/js/33.199431a4.js"><link rel="prefetch" href="/assets/js/34.492e289a.js"><link rel="prefetch" href="/assets/js/35.5d302290.js"><link rel="prefetch" href="/assets/js/36.894d3289.js"><link rel="prefetch" href="/assets/js/37.f642beeb.js"><link rel="prefetch" href="/assets/js/38.7f23fd79.js"><link rel="prefetch" href="/assets/js/39.0026e9da.js"><link rel="prefetch" href="/assets/js/4.02d75679.js"><link rel="prefetch" href="/assets/js/40.401f8112.js"><link rel="prefetch" href="/assets/js/41.e6220985.js"><link rel="prefetch" href="/assets/js/42.779bc903.js"><link rel="prefetch" href="/assets/js/43.b0aaffd8.js"><link rel="prefetch" href="/assets/js/44.faaec129.js"><link rel="prefetch" href="/assets/js/45.9c7e5437.js"><link rel="prefetch" href="/assets/js/46.c0e6a162.js"><link rel="prefetch" href="/assets/js/47.267a4beb.js"><link rel="prefetch" href="/assets/js/48.6984e200.js"><link rel="prefetch" href="/assets/js/49.29bc9319.js"><link rel="prefetch" href="/assets/js/5.ea987f19.js"><link rel="prefetch" href="/assets/js/50.10cfc2ae.js"><link rel="prefetch" href="/assets/js/51.8310a68d.js"><link rel="prefetch" href="/assets/js/52.5923ca20.js"><link rel="prefetch" href="/assets/js/53.7027d375.js"><link rel="prefetch" href="/assets/js/54.70e9320e.js"><link rel="prefetch" href="/assets/js/55.e7df94f4.js"><link rel="prefetch" href="/assets/js/56.28ecba38.js"><link rel="prefetch" href="/assets/js/57.bb8e6578.js"><link rel="prefetch" href="/assets/js/58.76c8e57e.js"><link rel="prefetch" href="/assets/js/59.e576e1da.js"><link rel="prefetch" href="/assets/js/6.7e1a4a81.js"><link rel="prefetch" href="/assets/js/60.4da8c1b2.js"><link rel="prefetch" href="/assets/js/61.77d340b9.js"><link rel="prefetch" href="/assets/js/62.7c63bd09.js"><link rel="prefetch" href="/assets/js/63.75037cfb.js"><link rel="prefetch" href="/assets/js/64.a555a545.js"><link rel="prefetch" href="/assets/js/65.487f34b3.js"><link rel="prefetch" href="/assets/js/66.3249d018.js"><link rel="prefetch" href="/assets/js/67.6622d87c.js"><link rel="prefetch" href="/assets/js/68.675c7b01.js"><link rel="prefetch" href="/assets/js/69.25aeed39.js"><link rel="prefetch" href="/assets/js/7.f4b0b20b.js"><link rel="prefetch" href="/assets/js/70.76bbb93b.js"><link rel="prefetch" href="/assets/js/71.9af3531a.js"><link rel="prefetch" href="/assets/js/72.a7f000db.js"><link rel="prefetch" href="/assets/js/73.642462ff.js"><link rel="prefetch" href="/assets/js/74.7189bd12.js"><link rel="prefetch" href="/assets/js/75.b857e76b.js"><link rel="prefetch" href="/assets/js/76.a5d04946.js"><link rel="prefetch" href="/assets/js/77.1d90b4c1.js"><link rel="prefetch" href="/assets/js/78.7f738fb5.js"><link rel="prefetch" href="/assets/js/79.4aa9f88d.js"><link rel="prefetch" href="/assets/js/8.e0e09ba6.js"><link rel="prefetch" href="/assets/js/80.00e132cb.js"><link rel="prefetch" href="/assets/js/81.4426508a.js"><link rel="prefetch" href="/assets/js/82.1b01c870.js"><link rel="prefetch" href="/assets/js/83.98164fd1.js"><link rel="prefetch" href="/assets/js/84.42c73eec.js"><link rel="prefetch" href="/assets/js/85.344d5676.js"><link rel="prefetch" href="/assets/js/86.3df9959a.js"><link rel="prefetch" href="/assets/js/87.c1c0960f.js"><link rel="prefetch" href="/assets/js/88.59379263.js">
    <link rel="stylesheet" href="/assets/css/0.styles.94456445.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">狼子笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/vue/vue_basic/" class="nav-link">
  vue核心库
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/vuex.html" class="nav-link">
  vuex
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/vue_router.html" class="nav-link">
  vue-router
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/vue_mockjs.html" class="nav-link">
  vue-mockjs
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/react/setState.html" class="nav-link">
  this.setState
</a></li><li class="dropdown-item"><!----> <a href="/blog/react/Lazy&amp;Suspense.html" class="nav-link">
  React.lazy&amp;React.Suspense
</a></li><li class="dropdown-item"><!----> <a href="/blog/react/Context.html" class="nav-link">
  Context
</a></li><li class="dropdown-item"><!----> <a href="/blog/react/redux_core.html" class="nav-link">
  redux概念理解
</a></li><li class="dropdown-item"><!----> <a href="/blog/react/react-redux.html" class="nav-link">
  react-redux基本使用
</a></li><li class="dropdown-item"><!----> <a href="/blog/react/mobx-basic.html" class="nav-link">
  mobx基本使用
</a></li><li class="dropdown-item"><!----> <a href="/blog/react/virtualList.html" class="nav-link">
  简单实现VirtualList
</a></li><li class="dropdown-item"><!----> <a href="/blog/react/redux-toolkit.html" class="nav-link">
  redux-toolkit常规使用
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/ECMAScript/ES3_5/" class="nav-link">
  JS3_5
</a></li><li class="dropdown-item"><!----> <a href="/blog/ECMAScript/ES_Next/" class="nav-link">
  ES_Next
</a></li></ul></div></div><div class="nav-item"><a href="/blog/DBCss/" class="nav-link">
  DOM+CSS
</a></div><div class="nav-item"><a href="/blog/other/" class="nav-link router-link-active">
  Others
</a></div><div class="nav-item"><a href="/blog/daily/" class="nav-link">
  随笔
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/vue/vue_basic/" class="nav-link">
  vue核心库
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/vuex.html" class="nav-link">
  vuex
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/vue_router.html" class="nav-link">
  vue-router
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/vue_mockjs.html" class="nav-link">
  vue-mockjs
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/react/setState.html" class="nav-link">
  this.setState
</a></li><li class="dropdown-item"><!----> <a href="/blog/react/Lazy&amp;Suspense.html" class="nav-link">
  React.lazy&amp;React.Suspense
</a></li><li class="dropdown-item"><!----> <a href="/blog/react/Context.html" class="nav-link">
  Context
</a></li><li class="dropdown-item"><!----> <a href="/blog/react/redux_core.html" class="nav-link">
  redux概念理解
</a></li><li class="dropdown-item"><!----> <a href="/blog/react/react-redux.html" class="nav-link">
  react-redux基本使用
</a></li><li class="dropdown-item"><!----> <a href="/blog/react/mobx-basic.html" class="nav-link">
  mobx基本使用
</a></li><li class="dropdown-item"><!----> <a href="/blog/react/virtualList.html" class="nav-link">
  简单实现VirtualList
</a></li><li class="dropdown-item"><!----> <a href="/blog/react/redux-toolkit.html" class="nav-link">
  redux-toolkit常规使用
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/ECMAScript/ES3_5/" class="nav-link">
  JS3_5
</a></li><li class="dropdown-item"><!----> <a href="/blog/ECMAScript/ES_Next/" class="nav-link">
  ES_Next
</a></li></ul></div></div><div class="nav-item"><a href="/blog/DBCss/" class="nav-link">
  DOM+CSS
</a></div><div class="nav-item"><a href="/blog/other/" class="nav-link router-link-active">
  Others
</a></div><div class="nav-item"><a href="/blog/daily/" class="nav-link">
  随笔
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/other/" aria-current="page" class="sidebar-link">服务器环境初始化</a></li><li><a href="/blog/other/webpack5_react_dev.html" aria-current="page" class="active sidebar-link">webpack5搭建React开发脚手架</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/other/webpack5_react_dev.html#_1-初始化npm环境" class="sidebar-link">1. 初始化npm环境</a></li><li class="sidebar-sub-header"><a href="/blog/other/webpack5_react_dev.html#_2-本地安装webpack、webpack-cli" class="sidebar-link">2. 本地安装webpack、webpack-cli</a></li><li class="sidebar-sub-header"><a href="/blog/other/webpack5_react_dev.html#_3-最基本目录结构及配置" class="sidebar-link">3. 最基本目录结构及配置</a></li><li class="sidebar-sub-header"><a href="/blog/other/webpack5_react_dev.html#_4-babel-loader配置" class="sidebar-link">4. babel-loader配置</a></li><li class="sidebar-sub-header"><a href="/blog/other/webpack5_react_dev.html#_5-配置支持react语法" class="sidebar-link">5. 配置支持react语法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/other/webpack5_react_dev.html#_5-1-解析扩展名" class="sidebar-link">5.1 解析扩展名</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/other/webpack5_react_dev.html#_6-配置sass-loader及抽取压缩css" class="sidebar-link">6. 配置Sass-loader及抽取压缩css</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/other/webpack5_react_dev.html#_6-1-配置postcss" class="sidebar-link">6.1 配置postcss</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/other/webpack5_react_dev.html#_7-配置图片资源解析-assetmodules" class="sidebar-link">7. 配置图片资源解析 AssetModules</a></li><li class="sidebar-sub-header"><a href="/blog/other/webpack5_react_dev.html#_8-配置字体图标" class="sidebar-link">8. 配置字体图标</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/other/webpack5_react_dev.html#_8-1-symbol方式接入-推荐方式-：" class="sidebar-link">8.1 Symbol方式接入(推荐方式)：</a></li><li class="sidebar-sub-header"><a href="/blog/other/webpack5_react_dev.html#_8-2-font-class引用：" class="sidebar-link">8.2 font-class引用：</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/other/webpack5_react_dev.html#_9-配置编译目标target" class="sidebar-link">9. 配置编译目标target</a></li><li class="sidebar-sub-header"><a href="/blog/other/webpack5_react_dev.html#_10-配置eslint" class="sidebar-link">10. 配置ESLint</a></li><li class="sidebar-sub-header"><a href="/blog/other/webpack5_react_dev.html#_11-配置打包压缩" class="sidebar-link">11. 配置打包压缩</a></li><li class="sidebar-sub-header"><a href="/blog/other/webpack5_react_dev.html#_12-一些优化" class="sidebar-link">12. 一些优化</a></li></ul></li><li><a href="/blog/other/axios.html" class="sidebar-link">Axios-HTTP库</a></li><li><a href="/blog/other/cross-origin.html" class="sidebar-link">跨域解决方案</a></li><li><a href="/blog/other/regexp.html" class="sidebar-link">JavaScript正则表达式</a></li><li><a href="/blog/other/git.html" class="sidebar-link">Git基本使用</a></li><li><a href="/blog/other/markdown_grm.html" class="sidebar-link">Markdown概览</a></li><li><a href="/blog/other/vuepress_use.html" class="sidebar-link">vuepress使用记录</a></li><li><a href="/blog/other/JavaScript.inof.html" class="sidebar-link">JavaScript.Info阅读笔记</a></li><li><a href="/blog/other/reSystem.html" class="sidebar-link">重装系统的步骤</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="webpack5搭建react开发脚手架"><a href="#webpack5搭建react开发脚手架" class="header-anchor">#</a> webpack5搭建React开发脚手架</h1> <h2 id="_1-初始化npm环境"><a href="#_1-初始化npm环境" class="header-anchor">#</a> 1. 初始化npm环境</h2> <blockquote><p><strong>npm init -y</strong></p></blockquote> <p>生成package.json文件</p> <h2 id="_2-本地安装webpack、webpack-cli"><a href="#_2-本地安装webpack、webpack-cli" class="header-anchor">#</a> 2. 本地安装webpack、webpack-cli</h2> <blockquote><p><strong>npm install webpack webpack-cli -D</strong></p></blockquote> <p>webpack@5.64.4</p> <p>webpack-cli@4.9.1</p> <h2 id="_3-最基本目录结构及配置"><a href="#_3-最基本目录结构及配置" class="header-anchor">#</a> 3. 最基本目录结构及配置</h2> <blockquote><p><strong>npm install webpack-dev-server html-webpack-plugin webpack-merge -D</strong></p></blockquote> <ul><li>当前目录结构</li></ul> <p><img src="data:image/png;base64,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" alt=""></p> <ul><li><p>配置步骤</p> <p><strong>webpack.config.base.js</strong></p> <p>配置入口、出口、模板plugin</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'../src/index.js'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'boundle.js'</span><span class="token punctuation">,</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'../dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    clean<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      title<span class="token operator">:</span> <span class="token string">'webpack5从0到1搭建React开发脚手架'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>webpack.config.dev.js</strong></p> <p>配置开发服务器相关参数、source-map</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> merge <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-merge'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> baseConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./webpack.config.base'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>baseConfig<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  mode<span class="token operator">:</span> <span class="token string">'development'</span><span class="token punctuation">,</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      directory<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'../dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    port<span class="token operator">:</span> <span class="token number">9000</span><span class="token punctuation">,</span>
    hot<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    open<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  devtool<span class="token operator">:</span> <span class="token string">'source-map'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>webpack.config.build.js</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> merge <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-merge'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> baseConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./webpack.config.base'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>baseConfig<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  mode<span class="token operator">:</span> <span class="token string">'production'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>package.json</strong></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack serve --config ./build/webpack.config.dev.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config ./build/webpack.config.build.js&quot;</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div></li></ul> <h2 id="_4-babel-loader配置"><a href="#_4-babel-loader配置" class="header-anchor">#</a> 4. babel-loader配置</h2> <blockquote><p><strong>npm install -D babel-loader @babel/core @babel/preset-env</strong></p> <p><strong>npm install -D @babel/plugin-transform-runtime @babel/runtime</strong></p> <p><strong>npm install -S corejs@3</strong></p></blockquote> <p><strong>webpack.config.base.js</strong> 增加如下配置内容：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.m?js$/</span><span class="token punctuation">,</span>
        exclude<span class="token operator">:</span> <span class="token regex">/node_modules/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">{</span>
          loader<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
          options<span class="token operator">:</span> <span class="token punctuation">{</span>
            presets<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">[</span><span class="token string">'@babel/preset-env'</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                      useBuiltIns<span class="token operator">:</span> <span class="token string">'usage'</span><span class="token punctuation">,</span>
                      corejs<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span>
             	<span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'@babel/plugin-transform-runtime'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            cacheDirectory<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h2 id="_5-配置支持react语法"><a href="#_5-配置支持react语法" class="header-anchor">#</a> 5. 配置支持react语法</h2> <blockquote><p><strong>npm install -D @babel/preset-react</strong></p> <p><strong>npm install -S react react-dom</strong></p></blockquote> <p><strong>wepack.config.base.js</strong>内容修改：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
<span class="token operator">--</span>        test<span class="token operator">:</span> <span class="token regex">/\.jsx?$/</span><span class="token punctuation">,</span>
<span class="token operator">++</span>        test<span class="token operator">:</span> <span class="token regex">/\.m?js$/</span><span class="token punctuation">,</span>
        exclude<span class="token operator">:</span> <span class="token regex">/node_modules/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">{</span>
          loader<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
          options<span class="token operator">:</span> <span class="token punctuation">{</span>
           <span class="token operator">--</span> plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'@babel/plugin-transform-runtime'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
           <span class="token operator">++</span> presets<span class="token operator">:</span> <span class="token punctuation">[</span>
               	<span class="token punctuation">[</span><span class="token string">'@babel/preset-env'</span><span class="token punctuation">,</span>
                 <span class="token punctuation">{</span>
                     useBuiltIns<span class="token operator">:</span> <span class="token string">'usage'</span><span class="token punctuation">,</span>
                     corejs<span class="token operator">:</span> <span class="token number">3</span>
                 <span class="token punctuation">}</span>
             	<span class="token punctuation">]</span><span class="token punctuation">,</span>
               <span class="token string">'@babel/preset-react'</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
            plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'@babel/plugin-transform-runtime'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            cacheDirectory<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token operator">--</span> title<span class="token operator">:</span> <span class="token string">'webpack5从0到1搭建React开发脚手架'</span><span class="token punctuation">,</span>
      template<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'../index.html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
</code></pre></div><p><strong>根目录增加index.html模板</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>webpack5从0到1搭建React开发脚手架<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>新建src/App.jsx和src/index.js进行React基本测试</strong></p> <p>index.js:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.jsx'</span><span class="token punctuation">;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>App.jsx:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    react jsx!
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_5-1-解析扩展名"><a href="#_5-1-解析扩展名" class="header-anchor">#</a> 5.1 解析扩展名</h3> <p>让<code>import Counter from './components/counter';</code>能解析到counter下的入口文件。</p> <p><strong>webpack.config.base.js:</strong></p> <blockquote><p>resolve: {</p> <p>extensions: ['.js', '.jsx'],</p> <p>},</p></blockquote> <h2 id="_6-配置sass-loader及抽取压缩css"><a href="#_6-配置sass-loader及抽取压缩css" class="header-anchor">#</a> 6. 配置Sass-loader及抽取压缩css</h2> <blockquote><p><strong>npm install -S sass sass-loader css-loader style-loader</strong></p> <p><strong>npm install -D mini-css-extrat-plugin css-minimizer-webpack-plugin</strong></p></blockquote> <p><strong>开发模式下：</strong></p> <p>不用抽离和压缩css。</p> <p><strong>webpack.config.dev.js:</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(css|scss|sass)$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'sass-loader'</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p><strong>生成模式下：</strong></p> <p>有必要抽离和压缩css。</p> <p><strong>webpack.config.build.js:</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> CssMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'css-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(css|scss|sass)/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
          <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
          <span class="token string">'sass-loader'</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">'styles/[contenthash].css'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="_6-1-配置postcss"><a href="#_6-1-配置postcss" class="header-anchor">#</a> 6.1 配置postcss</h3> <div class="language- extra-class"><pre class="language-text"><code>npm install -D postcss-loader postcss postcss-preset-env
</code></pre></div><p>修改配置文件：<strong>webpack.config.dev/build.js</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(css|scss|sass)$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'postcss-loader'</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              postcssOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
                  <span class="token punctuation">[</span><span class="token string">'postcss-preset-env'</span><span class="token punctuation">]</span>
                <span class="token punctuation">]</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">'sass-loader'</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
</code></pre></div><h2 id="_7-配置图片资源解析-assetmodules"><a href="#_7-配置图片资源解析-assetmodules" class="header-anchor">#</a> 7. 配置图片资源解析 AssetModules</h2> <p>webpack5新增的4种AssetModules类型，可以用来代替以往的<code>file-loader、url-loader</code>。</p> <p><strong>webpack.config.base.js新增:</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(png|jpg|jpeg|gif)$/</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'asset/resource'</span><span class="token punctuation">,</span>
        generator<span class="token operator">:</span> <span class="token punctuation">{</span>
          filename<span class="token operator">:</span> <span class="token string">'images/[contenthash][ext]'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.svg$/</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'asset'</span><span class="token punctuation">,</span>
        generator<span class="token operator">:</span> <span class="token punctuation">{</span>
          filename<span class="token operator">:</span> <span class="token string">'images/[contenthash][ext]'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        parser<span class="token operator">:</span> <span class="token punctuation">{</span>
          dataUrlCondition<span class="token operator">:</span> <span class="token punctuation">{</span>
            maxSize<span class="token operator">:</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token number">1024</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
</code></pre></div><h2 id="_8-配置字体图标"><a href="#_8-配置字体图标" class="header-anchor">#</a> 8. 配置字体图标</h2> <p>以阿里字体图标为例子。<code>https://www.iconfont.cn/</code>下载字体文件。</p> <h3 id="_8-1-symbol方式接入-推荐方式-："><a href="#_8-1-symbol方式接入-推荐方式-：" class="header-anchor">#</a> 8.1 Symbol方式接入(推荐方式)：</h3> <p><strong>第一步</strong>：引入项目下面生成的 symbol 代码：</p> <div class="language-html extra-class"><pre class="language-html"><code># <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>./iconfont.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

React中推荐用模块方式导入：
import './iconfont.js'
</code></pre></div><p><strong>第二步</strong>：加入通用 CSS 代码（引入一次就行）：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.icon</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">vertical-align</span><span class="token punctuation">:</span> -0.15em<span class="token punctuation">;</span>
  <span class="token property">fill</span><span class="token punctuation">:</span> currentColor<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>第三步</strong>：挑选相应图标并获取类名，应用于页面：<strong>推荐封装成组件</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>#icon-xxx<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>use</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>

这一步有注意事项：
1. xlink:href要改成camelCase,即：xlinKHref。

</code></pre></div><h3 id="_8-2-font-class引用："><a href="#_8-2-font-class引用：" class="header-anchor">#</a> 8.2 font-class引用：</h3> <p><strong>webpack.config.base.js:</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(woff|woff2|eot|ttf|otf)$/</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'asset/resource'</span><span class="token punctuation">,</span>
        generator<span class="token operator">:</span> <span class="token punctuation">{</span>
          filename<span class="token operator">:</span> <span class="token string">'font/[name][ext]'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
</code></pre></div><p><strong>第一步</strong>：引入字体图标文件：</p> <div class="language-css extra-class"><pre class="language-css"><code># 新建font文件夹，放入iconfont.ttf等字体文件
# 修改iconfont.css字体图标文件路径：
<span class="token atrule"><span class="token rule">@font-face</span></span> <span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">&quot;iconfont&quot;</span><span class="token punctuation">;</span> <span class="token comment">/* Project id  */</span>
  <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>'./font/iconfont.ttf?t=1638679880337'<span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'truetype'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>第二步</strong>：引入项目下面生成的 fontclass 代码：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>./iconfont.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>第三步</strong>：挑选相应图标并获取类名，应用于页面：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>iconfont icon-xxx<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_9-配置编译目标target"><a href="#_9-配置编译目标target" class="header-anchor">#</a> 9. 配置编译目标target</h2> <p><strong>package.json:</strong> 编译后的文件支持哪些浏览器版本</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;browserslist&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;last 2 versions&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;&gt; 1%&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;IE 10&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre></div><p><strong>webpack.config.base.js:</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>target<span class="token operator">:</span> <span class="token string">'browserslist'</span><span class="token punctuation">,</span>
</code></pre></div><h2 id="_10-配置eslint"><a href="#_10-配置eslint" class="header-anchor">#</a> 10. 配置ESLint</h2> <p>可以安装<code>eslint-loader</code>进行eslint规范提示。</p> <p>为了能在编写代码的同时查看到Eslint提示，推荐以下配置方式。</p> <p><strong>第一步</strong>：安装Eslint插件。（vscode插件市场安装即可）</p> <p><strong>第二步</strong>：安装<code>eslint</code>包。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm install <span class="token operator">-</span><span class="token constant">D</span> eslint
</code></pre></div><p><strong>第三步</strong>：生成<code>eslint</code>配置文件.</p> <div class="language-shell extra-class"><pre class="language-shell"><code>npx eslint --init
<span class="token comment"># 根据提示完成选择即可</span>
<span class="token comment"># 过程中可能会安装一些lint插件，比如react hooks相关的lint插件。</span>
</code></pre></div><p><strong>第四步</strong>：修改eslint配置文件如下：</p> <p>以下是完成<code>react hooks</code>的规则，其他规则可自行在<code>rules</code>下定义。</p> <p>生成配置文件时可以选择<code>.json</code>、<code>.js</code>、<code>.yaml</code>几种格式，以下使用的是<code>.json</code>方式</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;browser&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token property">&quot;es2021&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;plugin:react/recommended&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;plugin:react-hooks/recommended&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;parserOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;ecmaFeatures&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;jsx&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ecmaVersion&quot;</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
        <span class="token property">&quot;sourceType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;react&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;react-hooks/rules-of-hooks&quot;</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;react-hooks/exhaustive-deps&quot;</span><span class="token operator">:</span> <span class="token string">&quot;warn&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;no-console&quot;</span><span class="token operator">:</span> <span class="token string">&quot;warn&quot;</span>，
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>第五步</strong>：忽略不需要进行eslint检查的文件或文件夹</p> <p><code>.eslint.json</code>文件同级目录新建<code>.eslintignore</code>文件。</p> <div class="language-txt extra-class"><pre class="language-text"><code>build

</code></pre></div><h2 id="_11-配置打包压缩"><a href="#_11-配置打包压缩" class="header-anchor">#</a> 11. 配置打包压缩</h2> <p>生成环境有可能需要将打包结果进行压缩。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>npm install <span class="token operator">-</span><span class="token constant">D</span> filemanager<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin
</code></pre></div><p><strong>webpack.config.build.js增加：</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> FileManagerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'filemanager-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

#　plugins增加：
<span class="token keyword">new</span> <span class="token class-name">FileManagerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  events<span class="token operator">:</span> <span class="token punctuation">{</span>
    onEnd<span class="token operator">:</span> <span class="token punctuation">{</span>
      copy<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        source<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'../src/text.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        destination<span class="token operator">:</span> <span class="token string">'dist/text.json'</span>
      <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      archive<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          source<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'../dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          destination<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">dist/production_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.tar.gz</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
          format<span class="token operator">:</span> <span class="token string">'tar'</span><span class="token punctuation">,</span>
          options<span class="token operator">:</span> <span class="token punctuation">{</span>
            gzip<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            gzipOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
              level<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            globOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
              nomount<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  runTasksInSeries<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="_12-一些优化"><a href="#_12-一些优化" class="header-anchor">#</a> 12. 一些优化</h2> <ol><li><p>输出js路径及名称,。</p> <p><strong>webpack.config.base.js:</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'scripts/[name].[contenthash].boundle.js'</span><span class="token punctuation">,</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'../dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    pathinfo<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    clean<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div></li> <li><p>将src目录定义一个别名，简短模块化导入路径。</p> <p><strong>webpack.config.base.js:</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.jsx'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">'@'</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'../src'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div></li> <li><p>optimization配置优化。</p> <p><strong>webpack.config.build.js:</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    runtimeChunk<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      chunks<span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        commons<span class="token operator">:</span> <span class="token punctuation">{</span>
          test<span class="token operator">:</span> <span class="token regex">/[\\/]node_modules[\\/]/</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">'vendors'</span><span class="token punctuation">,</span>
          chunks<span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div></li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">作者：王龙楷； 标签：原创； 提交时间:</span> <span class="time">12/26/2021, 12:26:44 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/other/" class="prev router-link-active">
        服务器环境初始化
      </a></span> <span class="next"><a href="/blog/other/axios.html">
        Axios-HTTP库
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.3ad42564.js" defer></script><script src="/assets/js/2.0d9e74f2.js" defer></script><script src="/assets/js/18.531c75ba.js" defer></script><script src="/assets/js/9.6b44206c.js" defer></script>
  </body>
</html>
