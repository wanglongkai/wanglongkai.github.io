(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{382:function(t,a,s){t.exports=s.p+"assets/img/deferAsync.ff9ba469.png"},453:function(t,a,s){"use strict";s.r(a);var n=s(27),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"javascript-info阅读笔记"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#javascript-info阅读笔记"}},[t._v("#")]),t._v(" "),n("code",[t._v("JavaScript.Info")]),t._v("阅读笔记")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://zh.javascript.info/",target:"_blank",rel:"noopener noreferrer"}},[t._v("链接地址"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"空值合并运算符"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#空值合并运算符"}},[t._v("#")]),t._v(" 空值合并运算符 "),n("code",[t._v("??")])]),t._v(" "),n("p",[t._v("获取第一个“"),n("strong",[t._v("已定义")]),t._v("”的变量的值(即值不是 "),n("code",[t._v("null")]),t._v(" 或 "),n("code",[t._v("undefined")]),t._v(" 的变量)。和"),n("code",[t._v("||")]),t._v("作用类似。如下：")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 假设a = null,b=0,c=1")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" value1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" b "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//value1=1   获取第一个“真值”   ")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" value2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("??")]),t._v(" b "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("??")]),t._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//value2=0   获取第一个”不为 null/undefined“的值")]),t._v("\n")])])]),n("h2",{attrs:{id:"switch语句"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#switch语句"}},[t._v("#")]),t._v(" "),n("code",[t._v("switch")]),t._v("语句")]),t._v(" "),n("p",[n("code",[t._v("switch")]),t._v("判断是否严格相等。")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// x=== "value"')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    \t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("strong",[t._v("任何表达式都可以成为 "),n("code",[t._v("switch/case")]),t._v(" 的参数")])]),t._v(" "),n("p",[n("code",[t._v("switch")]),t._v(" 和 "),n("code",[t._v("case")]),t._v(" 都允许任意表达式。")]),t._v(" "),n("p",[t._v("比如：")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" b "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" b "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"this runs, because +a is 1, exactly equals b+1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"this doesn\'t run"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("这里 "),n("code",[t._v("+a")]),t._v(" 返回 "),n("code",[t._v("1")]),t._v("，这个值跟 "),n("code",[t._v("case")]),t._v(" 中 "),n("code",[t._v("b + 1")]),t._v(" 相比较，然后执行对应的代码。")]),t._v(" "),n("h2",{attrs:{id:"typeof-运算结果"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#typeof-运算结果"}},[t._v("#")]),t._v(" "),n("code",[t._v("typeof")]),t._v(" 运算结果")]),t._v(" "),n("p",[t._v("8中数据类型：")]),t._v(" "),n("ul",[n("li",[t._v("number")]),t._v(" "),n("li",[t._v("string")]),t._v(" "),n("li",[t._v("boolean")]),t._v(" "),n("li",[t._v("null")]),t._v(" "),n("li",[t._v("undefined")]),t._v(" "),n("li",[t._v("bigint  --- 任意长度的整数")]),t._v(" "),n("li",[t._v("symbol")]),t._v(" "),n("li",[t._v("object")])]),t._v(" "),n("p",[t._v("typeof返回的值包括以下8个：")]),t._v(" "),n("ul",[n("li",[t._v("number")]),t._v(" "),n("li",[t._v("string")]),t._v(" "),n("li",[t._v("boolean")]),t._v(" "),n("li",[t._v("function")]),t._v(" "),n("li",[t._v("undefined")]),t._v(" "),n("li",[t._v("bigint  --- 任意长度的整数")]),t._v(" "),n("li",[t._v("symbol")]),t._v(" "),n("li",[t._v("object")])]),t._v(" "),n("p",[n("code",[t._v("typeof")]),t._v("运算符返回值的类型，注意以下"),n("strong",[t._v("两个特殊")]),t._v("：")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"object"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//JavaScript 编程语言的设计错误")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"function"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 函数被特殊对待")]),t._v("\n")])])]),n("h2",{attrs:{id:"defer和async"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#defer和async"}},[t._v("#")]),t._v(" defer和async")]),t._v(" "),n("p",[t._v("defer并行加载js文件，下载完不会立即执行，等页面解析完成后，按照页面上script标签的顺序执行 "),n("br"),n("br"),t._v("\nasync并行加载js文件，下载完成立即执行，不会按照页面上script标签的顺序执行")]),t._v(" "),n("p",[n("img",{attrs:{src:s(382),alt:"preview"}})]),t._v(" "),n("h2",{attrs:{id:"domcontentloaded、load、beforeunload、unload"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#domcontentloaded、load、beforeunload、unload"}},[t._v("#")]),t._v(" "),n("code",[t._v("DOMContentLoaded")]),t._v("、"),n("code",[t._v("load")]),t._v("、"),n("code",[t._v("beforeunload")]),t._v("、"),n("code",[t._v("unload")])]),t._v(" "),n("p",[n("a",{attrs:{href:"https://zh.javascript.info/onload-ondomcontentloaded",target:"_blank",rel:"noopener noreferrer"}},[t._v("页面生命周期"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("strong",[n("code",[t._v("DOMContentLoaded")]),t._v(":")])]),t._v(" "),n("blockquote",[n("p",[t._v("浏览器已完全加载HTML，并构建了DOM树，"),n("code",[t._v("script")]),t._v("标签也加载并执行结束之后才会触发"),n("strong",[t._v("该事件")]),t._v("。\n但像"),n("code",[t._v("img")]),t._v("和样式表之类的外部资源可能尚未加载完成。")])]),t._v(" "),n("p",[t._v("假如脚本在等待样式表加载，那么"),n("code",[t._v("DOMContentLoaded")]),t._v("也会等待脚本加载并执行结束。")]),t._v(" "),n("p",[n("code",[t._v("DOMContentLoaded")]),t._v("事件发生在"),n("code",[t._v("document")]),t._v("对象上，我们"),n("strong",[t._v("必须使用")]),n("code",[t._v("addEventListener")]),t._v("来捕获它。")]),t._v(" "),n("p",[n("strong",[n("code",[t._v("window.onload")]),t._v(":")])]),t._v(" "),n("blockquote",[n("p",[t._v("当整个页面(包括样式、图片和其他资源)加载完成时，会在"),n("code",[t._v("window")]),t._v("对象上触发"),n("code",[t._v("load")]),t._v("事件。")])]),t._v(" "),n("p",[n("strong",[n("code",[t._v("window.onunload")]),t._v(":")])]),t._v(" "),n("blockquote",[n("p",[t._v("当访问者离开页面时，"),n("code",[t._v("window")]),t._v(" 对象上的 "),n("code",[t._v("unload")]),t._v(" 事件就会被触发。可以在"),n("code",[t._v("unload")]),t._v("事件处理程序中执行一些"),n("strong",[t._v("不涉及延迟")]),t._v("的操作。")]),t._v(" "),n("p",[t._v("以下是一个常见情况：")]),t._v(" "),n("p",[t._v("当用户要离开的时候，我们希望通过 "),n("code",[t._v("unload")]),t._v(" 事件保存一些数据到我们的服务器上。")]),t._v(" "),n("p",[t._v("有一个特殊的 "),n("code",[t._v("navigator.sendBeacon(url, data)")]),t._v(" 方法可以满足这种需求，详见规范 https://w3c.github.io/beacon/。")]),t._v(" "),n("p",[t._v("它在后台发送数据，转换到另外一个页面"),n("strong",[t._v("不会有延迟")]),t._v("：浏览器离开页面，但仍然在执行 "),n("code",[t._v("sendBeacon")]),t._v("。")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" analyticsData "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 带有收集的数据的对象 */")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nwindow"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unload"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  navigator"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sendBeacon")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/analytics"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("analyticsData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])])]),t._v(" "),n("p",[n("strong",[n("code",[t._v("window.onbeforeunload")]),t._v(":")])]),t._v(" "),n("blockquote",[n("p",[t._v("在用户离开页面时，"),n("code",[t._v("beforeunload")]),t._v("处理程序要求进行更多确认。感觉有时候不会生效(不明白为啥！)。")])]),t._v(" "),n("h2",{attrs:{id:"mutationobserver"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mutationobserver"}},[t._v("#")]),t._v(" "),n("code",[t._v("MutationObserver")])]),t._v(" "),n("p",[n("a",{attrs:{href:"https://zh.javascript.info/mutation-observer",target:"_blank",rel:"noopener noreferrer"}},[t._v("DOM变动观察器"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("code",[t._v("MutationObserver")]),t._v(" 是一个内建对象，它观察 DOM 元素，在其发生更改时触发回调。")]),t._v(" "),n("h2",{attrs:{id:"使正则表达式支持unicode编码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使正则表达式支持unicode编码"}},[t._v("#")]),t._v(" 使正则表达式支持"),n("code",[t._v("Unicode")]),t._v("编码")]),t._v(" "),n("p",[n("strong",[t._v("核心关注："),n("code",[t._v("u")]),t._v("修饰符 和 "),n("code",[t._v("\\p{...}")]),t._v("查找。")])]),t._v(" "),n("p",[n("a",{attrs:{href:"https://zh.javascript.info/regexp-unicode",target:"_blank",rel:"noopener noreferrer"}},[t._v("详情参阅"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("strong",[t._v("实例：匹配一个16进制数字")])]),t._v(" "),n("p",[n("code",[t._v("\\p{Hex_Digit}")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" regexp "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/x\\p{Hex_Digit}\\p{Hex_Digit}/u")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"number: xAF"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("match")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("regexp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// xAF")]),t._v("\n")])])]),n("p",[n("strong",[t._v("实例：匹配一个中文字符")])]),t._v(" "),n("p",[n("code",[t._v("\\p{sc=Han}")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" regexp "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/\\p{sc=Han}/gu")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" str "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("Hello Привет 你好 123_456")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nstr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("match")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("regexp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// ["你","好"]')]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);